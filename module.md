# Module

Модуль представляет из себя JS-файл (или кусок кода), оформленный специальным образом. Формат базируется на AMD, но с учетом особенностей Neweb.

Модуль должен начинаться с вызова функции define, которая принимает 3 обязательных параметра:

1. Название модуля.
2. Массив зависимостей модуля.
3. Callback-функцию, в теле которой содержится, собственно, код.

        define("l!~#name", ["npm!jquery@0.0.1#index"], function(require, exports, module, dependencies){
            var $ = require(dependencies[0]);
            $.get(...)
        })
    
Предполагается, что модули создаются не вручную, а с помощью различных упаковщиков.

# Наименование модуля

В современном мире мы используем множество различных систем для создания конечного кода, большая часть которого может быть переиспользована. Поэтому Neweb предлагает следующий формат именования модулей, основанных на опыте использования существующих систем:

`ТИП!ПАКЕТ@ВЕРСИЯ#ПУТЬ`

Надо понимать, что этот формат выведен исключительно эмпирическим путем за долгие годы использования различных систем, и представляет собой четырехмерный массив для определения пути к модулю.

Загрузчик модуля должен реализовывать в глобальном пространстве функцию define и, после получения кода, выполнить его.

Реализация функции define предполагает загрузку всех зависимостей данного модуля, после чего вызов callback-функции и передачи в нее 4-х параметров:

1. require - см. require commonjs.
2. exports  см. commonjs exports.
3. module - см. commonjs module.
4. Массив всех экспортов зависимостей.

Каждый загрузчик модуля волен определять способы загрузки модуля по его имени, это может быть интернет, локальный кэш, вручную введенный код и т.д.

Например, определить, что тип NPM загружается с помощью Ajax по определенному URL (это может быть CDN).
А тип l (local) загружается с помощью вебсокетов
